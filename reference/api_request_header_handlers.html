<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Add a handler for a request header — api_request_header_handlers • plumber2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Add a handler for a request header — api_request_header_handlers"><meta property="og:description" content="These handlers are called before the request body has been recieved and lets y
ou preemptively reject requests before recieving their full content. Most of
your logic, however, will be in the main handlers and you are asked to
consult the api_request_handlers docs for in-depth details on how to use
request handlers in general."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plumber2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a handler for a request header</h1>

    <div class="hidden name"><code>api_request_header_handlers.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These handlers are called before the request body has been recieved and lets y
ou preemptively reject requests before recieving their full content. Most of
your logic, however, will be in the main handlers and you are asked to
consult the <a href="api_request_handlers.html">api_request_handlers</a> docs for in-depth details on how to use
request handlers in general.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">api_get_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_head_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_post_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_put_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_delete_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_connect_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_options_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_trace_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_patch_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_any_header</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">handler</span>,</span>
<span>  serializers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parsers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_strict_serializer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-api">api<a class="anchor" aria-label="anchor" href="#arg-api"></a></dt>
<dd><p>A plumber2 api object to add the handler to</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>A string giving the path the handler responds to. See Details</p></dd>


<dt id="arg-handler">handler<a class="anchor" aria-label="anchor" href="#arg-handler"></a></dt>
<dd><p>A handler function to call when a request is matched to the
path</p></dd>


<dt id="arg-serializers">serializers<a class="anchor" aria-label="anchor" href="#arg-serializers"></a></dt>
<dd><p>A named list of serializers that can be used to format the
response before sending it back to the client. Which one is selected is based
on the request <code>Accept</code> header</p></dd>


<dt id="arg-parsers">parsers<a class="anchor" aria-label="anchor" href="#arg-parsers"></a></dt>
<dd><p>A named list of parsers that can be used to parse the
request body before passing it in as the <code>body</code> argument. Which one is
selected is based on the request <code>Content-Type</code> header</p></dd>


<dt id="arg-use-strict-serializer">use_strict_serializer<a class="anchor" aria-label="anchor" href="#arg-use-strict-serializer"></a></dt>
<dd><p>By default, if a serializer that respects the
requests <code>Accept</code> header cannot be found, then the first of the provided ones
are used. Setting this to <code>TRUE</code> will instead send back a
<code>406 Not Acceptable</code> response</p></dd>


<dt id="arg-download">download<a class="anchor" aria-label="anchor" href="#arg-download"></a></dt>
<dd><p>Should the response mark itself for download instead of being
shown inline? Setting this to <code>TRUE</code> will set the <code>Content-Disposition</code>
header in the response to <code>attachment</code>. Setting it to a string is equivalent
to setting it to <code>TRUE</code> but will in addition also set the default filename of
the download to the string value</p></dd>


<dt id="arg-route">route<a class="anchor" aria-label="anchor" href="#arg-route"></a></dt>
<dd><p>The route this handler should be added to. Defaults to the last
route in the stack. If the route does not exist it will be created as the
last route in the stack</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>These functions return the <code>api</code> object allowing for easy chaining
with the pipe</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Request Handlers:
<code><a href="api_request_handlers.html">api_request_handlers</a></code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Lin Pedersen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

