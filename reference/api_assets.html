<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Serve ressources from your file system — api_assets • plumber2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Serve ressources from your file system — api_assets"><meta property="og:description" content="plumber2 provides two ways to serve files from your server. One
(api_assets) goes through R and gives you all the power you expect to
further modify and work with the response. The other (api_statics) never hits
the R process and as a result is blazing fast. However this comes with the
price of very limited freedom to modify the response or even do basic
authentication. Each has their place."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plumber2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Serve ressources from your file system</h1>

    <div class="hidden name"><code>api_assets.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>plumber2 provides two ways to serve files from your server. One
(<code>api_assets</code>) goes through R and gives you all the power you expect to
further modify and work with the response. The other (api_statics) never hits
the R process and as a result is blazing fast. However this comes with the
price of very limited freedom to modify the response or even do basic
authentication. Each has their place.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">api_assets</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">at</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  default_file <span class="op">=</span> <span class="st">"index.html"</span>,</span>
<span>  default_ext <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  finalize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  continue <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  route <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">api_statics</span><span class="op">(</span></span>
<span>  <span class="va">api</span>,</span>
<span>  <span class="va">at</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  use_index <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fallthrough <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  html_charset <span class="op">=</span> <span class="st">"utf-8"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  validation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  except <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-api">api<a class="anchor" aria-label="anchor" href="#arg-api"></a></dt>
<dd><p>A plumber2 api object to add the rossource serving to</p></dd>


<dt id="arg-at">at<a class="anchor" aria-label="anchor" href="#arg-at"></a></dt>
<dd><p>The path to serve the ressources from</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>The location on the file system to map <code>at</code> to</p></dd>


<dt id="arg-default-file">default_file<a class="anchor" aria-label="anchor" href="#arg-default-file"></a></dt>
<dd><p>The default file to look for if the path does not map to
a file directly (see Details)</p></dd>


<dt id="arg-default-ext">default_ext<a class="anchor" aria-label="anchor" href="#arg-default-ext"></a></dt>
<dd><p>The default file extension to add to the file if a file
cannot be found at the provided path and the path does not have an extension
(see Details)</p></dd>


<dt id="arg-finalize">finalize<a class="anchor" aria-label="anchor" href="#arg-finalize"></a></dt>
<dd><p>An optional function to run if a file is found. The function
will receive the request as the first argument, the response as the second,
and anything passed on through <code>...</code> in the <code>dispatch</code> method. Any return
value from the function is discarded. The function must accept <code>...</code></p></dd>


<dt id="arg-continue">continue<a class="anchor" aria-label="anchor" href="#arg-continue"></a></dt>
<dd><p>A logical that should be returned if a file is found.
Defaults to <code>FALSE</code> indicating that the response should be send unmodified.</p></dd>


<dt id="arg-route">route<a class="anchor" aria-label="anchor" href="#arg-route"></a></dt>
<dd><p>The name of the route in the header router to add the asset
route to. Defaults to the last route in the stack. If the route does not
exist it will be created as the last route in the stack</p></dd>


<dt id="arg-use-index">use_index<a class="anchor" aria-label="anchor" href="#arg-use-index"></a></dt>
<dd><p>Should an <code>index.html</code> file be served if present when a
client requests the folder</p></dd>


<dt id="arg-fallthrough">fallthrough<a class="anchor" aria-label="anchor" href="#arg-fallthrough"></a></dt>
<dd><p>Should requests that doesn't match a file enter the
request loop or have a 404 response send directly</p></dd>


<dt id="arg-html-charset">html_charset<a class="anchor" aria-label="anchor" href="#arg-html-charset"></a></dt>
<dd><p>The charset to report when serving html files</p></dd>


<dt id="arg-headers">headers<a class="anchor" aria-label="anchor" href="#arg-headers"></a></dt>
<dd><p>A list of headers to add to the response. Will be combined
with the global headers of the app</p></dd>


<dt id="arg-validation">validation<a class="anchor" aria-label="anchor" href="#arg-validation"></a></dt>
<dd><p>An optional validation pattern. Presently, the only type of
validation supported is an exact string match of a header. For example, if
<code>validation</code> is <code>'"abc" = "xyz"'</code>, then HTTP requests must have a
header named <code>abc</code> (case-insensitive) with the value <code>xyz</code>
(case-sensitive). If a request does not have a matching header, than httpuv
will give a 403 Forbidden response. If the <code>character(0)</code> (the
default), then no validation check will be performed.</p></dd>


<dt id="arg-except">except<a class="anchor" aria-label="anchor" href="#arg-except"></a></dt>
<dd><p>One or more url paths that should be excluded from the route.
Requests matching these will enter the standard router dispatch. The paths
are interpreted as subpaths to <code>at</code>, e.g. the final path to exclude will be
<code>at</code>+<code>exclude</code> (see example)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>These functions return the <code>api</code> object allowing for easy chaining
with the pipe</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Lin Pedersen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

